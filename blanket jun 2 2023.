1. a)

CREATE TABLE ATLETICAR (
    ID INT PRIMARY KEY,
    IME VARCHAR(50) NOT NULL,
    PREZIME VARCHAR(50) NOT NULL,
    NAPOMENA VARCHAR(255),
    POL CHAR(1) CHECK (POL IN ('M', 'Z')),
    GOD_RODJ INT NOT NULL
);

CREATE TABLE TAKMICENJE (
    ID INT PRIMARY KEY,
    DATUM DATE NOT NULL,
    NAZIV VARCHAR(100) NOT NULL,
    DUZINA INT CHECK (DUZINA >= 0)
);

CREATE TABLE ATLETICAR_TAKMICENJE (
    ATLETICAR_ID INT,
    TAKMICENJE_ID INT,
    PRIMARY KEY (ATLETICAR_ID, TAKMICENJE_ID),
    FOREIGN KEY (ATLETICAR_ID) REFERENCES ATLETICAR(ID) ON DELETE CASCADE,
    FOREIGN KEY (TAKMICENJE_ID) REFERENCES TAKMICENJE(ID) ON DELETE CASCADE
);

1. b) 

SELECT 
    t.NAZIV AS Takmicenje,
    SUM(CASE WHEN a.POL = 'M' THEN 1 ELSE 0 END) AS Broj_Muskaraca,
    SUM(CASE WHEN a.POL = 'Z' THEN 1 ELSE 0 END) AS Broj_Zena
FROM 
    ATLETICAR a
JOIN 
    ATLETICAR_TAKMICENJE at ON a.ID = at.ATLETICAR_ID
JOIN 
    TAKMICENJE t ON at.TAKMICENJE_ID = t.ID
GROUP BY 
    t.ID, t.NAZIV
HAVING 
    SUM(CASE WHEN a.POL = 'Z' THEN 1 ELSE 0 END) > 10;
